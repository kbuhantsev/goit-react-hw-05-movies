"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[877],{9784:function(e,n,t){t.d(n,{Z:function(){return y}});t(2791);var r,a,i,s,o,u,c,p=t(7689),f=t(168),d=t(1087),l=t(6444),x=(0,l.ZP)(d.rU)(r||(r=(0,f.Z)(["\n  display: block;\n  height: 100%;\n"]))),m=l.ZP.ul(a||(a=(0,f.Z)(["\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  row-gap: 20px;\n  column-gap: 20px;\n  padding-top: 20px;\n  padding-bottom: 40px;\n"]))),g=l.ZP.li(i||(i=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  border-radius: 5px;\n  overflow: hidden;\n  flex-basis: 280px;\n  transition: transform ",";\n\n  @media screen and (min-width: 768px) {\n    flex-basis: calc((100% - 20px * 2) / 3);\n  }\n\n  @media screen and (min-width: 1280px) {\n    flex-basis: calc((100% - 20px * 3) / 4);\n  }\n\n  &:hover {\n    transform: scale(1.02);\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.animation.easeFast})),h=l.ZP.img(s||(s=(0,f.Z)(["\n  width: 100%;\n  /* height: 400px; */\n\n  @media screen and (min-width: 768px) {\n    /* height: 450px; */\n  }\n\n  @media screen and (min-width: 1280px) {\n    /* height: 575px; */\n  }\n"]))),v=l.ZP.ul(o||(o=(0,f.Z)(["\n  padding: 10px 5px;\n  gap: 5px;\n"]))),Z=l.ZP.p(u||(u=(0,f.Z)(["\n  color: ",";\n  font-weight: ",";\n  font-size: ",";\n  text-transform: uppercase;\n"])),(function(e){return e.theme.colors.black}),(function(e){return e.theme.fontWeights.medium}),(function(e){return e.theme.fontSizes.m})),b=l.ZP.p(c||(c=(0,f.Z)(["\n  color: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.fontWeights.medium})),w=t(2785),k=t(184);function y(e){var n=e.items,t=(0,p.TH)(),r=function(e){e.target.src=w,e.target.style.height="400px"};return(0,k.jsx)(m,{children:n.map((function(e){var n=e.poster_path,a=e.release_date,i=e.genres,s=e.id,o=e.title;return(0,k.jsx)(g,{children:(0,k.jsxs)(x,{to:"/movies/"+s,state:{from:t},children:[(0,k.jsx)(h,{src:n?"https://image.tmdb.org/t/p/w780/"+n:"#",className:"gallery__image",alt:n?o:"broken",loading:"lazy",width:"280",onError:r}),(0,k.jsxs)(v,{children:[(0,k.jsx)("li",{children:(0,k.jsx)(Z,{children:o})}),(0,k.jsx)("li",{children:(0,k.jsxs)(b,{children:[i.slice(0,3).map((function(e){return e.name})).join(", "),"\xa0",a.slice(0,4)]})})]})]})},s)}))})}},9155:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(4476),a=(t(2791),t(6444)),i=t(184);function s(e){var n=e.titleText,t=void 0===n?"":n,s=(0,a.Fg)();return(0,i.jsx)(r.Z,{backgroundColor:s.colors.main,alignItems:"center",pt:2,pb:2,mt:4,borderRadius:"normal",children:(0,i.jsx)(r.Z,{as:"h2",children:t})})}},9425:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(2791),a=t(9718),i=t.n(a),s=(t(6892),t(184));function o(e){var n=e.totalItems,t=e.currentPage,a=e.updateCurrentPage,o=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=new(i())(o.current,{totalItems:n,itemsPerPage:20,visiblePages:5});e.movePageTo(t),e.on("beforeMove",(function(e){var n=e.page;a(n),window.scrollTo({top:100,behavior:"smooth"})}))}),[t,n,a]),(0,s.jsx)("div",{ref:o,id:"tui-pagination-container",className:"tui-pagination"})}},8079:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(7762),a=t(5861),i=t(885),s=t(7757),o=t.n(s),u=t(2791),c=t(1087),p=t(1044),f="99eb21030dfb3afeff4792ddc8f57a63";function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"trends",n=(0,u.useState)(null),t=(0,i.Z)(n,2),s=t[0],d=t[1],l=(0,c.lr)(),x=(0,i.Z)(l,2),m=x[0],g=x[1],h=(0,u.useState)(null),v=(0,i.Z)(h,2),Z=v[0],b=v[1],w=(0,u.useMemo)((0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.get("/genre/movie/list",{params:{api_key:f}});case 2:return n=e.sent,e.abrupt("return",n.data.genres);case 4:case"end":return e.stop()}}),e)}))),[]),k=(0,u.useCallback)(function(){var n=(0,a.Z)(o().mark((function n(t){var r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("trends"!==e){n.next=14;break}return n.next=3,p.ZP.get("/trending/movie/week",{params:{api_key:f,page:t}});case 3:if(!(r=n.sent)){n.next=12;break}return n.t0=P,n.t1=r.data,n.next=9,w;case 9:n.t2=n.sent,(0,n.t0)(n.t1,n.t2),b(r.data);case 12:n.next=28;break;case 14:if("searchMovie"!==e){n.next=28;break}if(s){n.next=17;break}return n.abrupt("return");case 17:return n.next=19,p.ZP.get("/search/movie",{params:{api_key:f,page:t,query:s}});case 19:if(!(a=n.sent)){n.next=28;break}return n.t3=P,n.t4=a.data,n.next=25,w;case 25:n.t5=n.sent,(0,n.t3)(n.t4,n.t5),b(a.data);case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[s,w,e]),y=(0,u.useCallback)(function(){var e=(0,a.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n);case 2:t={page:n},(r=m.get("query"))&&(t.query=r),g(t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[k,g]);(0,u.useEffect)((function(){(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(m.get("page")||1);case 2:case"end":return e.stop()}}),e)})))()}),[m]);var P=function(e,n){if(n){var t,a=(0,r.Z)(e.results);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.genres=[];var s,o=(0,r.Z)(i.genre_ids);try{var u=function(){var e=s.value,t=n.find((function(n){return n.id===e}));i.genres.push({id:t.id,name:t.name})};for(o.s();!(s=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}}}catch(c){a.e(c)}finally{a.f()}}};return{data:Z,handlePage:y,setQuery:d}}p.ZP.defaults.baseURL="https://api.themoviedb.org/3/"},5415:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var r=t(9784),a=t(8079),i=t(9155),s=t(9425),o=(t(2791),t(184));function u(){var e=(0,a.Z)("trends"),n=e.data,t=e.handlePage;if(n)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{titleText:"Trending today"}),(0,o.jsx)(r.Z,{items:n.results}),(0,o.jsx)(s.Z,{totalItems:n.total_pages,currentPage:null===n||void 0===n?void 0:n.page,updateCurrentPage:t})]})}},2785:function(e,n,t){e.exports=t.p+"static/media/empty.716616fe664224e2915b.png"}}]);
//# sourceMappingURL=877.8028feaf.chunk.js.map